{"version":3,"sources":["node_modules/phoenix/priv/static/phoenix.js","node_modules/phoenix_html/priv/static/phoenix_html.js","app.js","project.js","results.js","socket.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACRA;;AAOA;;;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;AAEA,kBAAQ,IAAR,mBAAqB,SAAS,cAAT,CAAwB,SAAxB,CAArB;;;;;;;AACA,kBAAQ,IAAR,mBAAqB,SAAS,cAAT,CAAwB,UAAxB,CAArB;;;;;;;;;ACzBA,IAAI,UAAU;AAEZ,sBAAK,QAAQ,SAAQ;AAAE,QAAG,CAAC,OAAD,EAAS;AAAE,aAAF;KAAZ;AACrB,QAAI,YAAY,QAAQ,YAAR,CAAqB,SAArB,CAAZ,CADe;AAEnB,WAAO,OAAP,GAFmB;AAGnB,SAAK,OAAL,CAAa,SAAb,EAAwB,MAAxB,EAHmB;GAFT;AAQZ,4BAAQ,WAAW,QAAO;;;AACxB,QAAI,oBAAoB,SAAS,cAAT,CAAwB,UAAxB,CAApB,CADoB;AAExB,QAAI,mBAAmB,SAAS,cAAT,CAAwB,YAAxB,CAAnB,CAFoB;AAGxB,QAAI,kBAAkB,SAAS,sBAAT,CAAgC,mBAAhC,CAAlB,CAHoB;AAIxB,QAAI,gBAAgB,SAAS,sBAAT,CAAgC,qBAAhC,CAAhB,CAJoB;AAKxB,QAAI,gBAAgB,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","file":"priv/static/js/app.js","sourcesContent":["require.register('phoenix', function(exports,req,module){\n    var require = __makeRequire((function(n) { return req(n.replace('./', 'phoenix/')); }), {});\n    (function(exports){\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Phoenix Channels JavaScript client\n//\n// ## Socket Connection\n//\n// A single connection is established to the server and\n// channels are mulitplexed over the connection.\n// Connect to the server using the `Socket` class:\n//\n//     let socket = new Socket(\"/ws\", {params: {userToken: \"123\"}})\n//     socket.connect()\n//\n// The `Socket` constructor takes the mount point of the socket,\n// the authentication params, as well as options that can be found in\n// the Socket docs, such as configuring the `LongPoll` transport, and\n// heartbeat.\n//\n// ## Channels\n//\n// Channels are isolated, concurrent processes on the server that\n// subscribe to topics and broker events between the client and server.\n// To join a channel, you must provide the topic, and channel params for\n// authorization. Here's an example chat room example where `\"new_msg\"`\n// events are listened for, messages are pushed to the server, and\n// the channel is joined with ok/error/timeout matches:\n//\n//     let channel = socket.channel(\"rooms:123\", {token: roomToken})\n//     channel.on(\"new_msg\", msg => console.log(\"Got message\", msg) )\n//     $input.onEnter( e => {\n//       channel.push(\"new_msg\", {body: e.target.val}, 10000)\n//        .receive(\"ok\", (msg) => console.log(\"created message\", msg) )\n//        .receive(\"error\", (reasons) => console.log(\"create failed\", reasons) )\n//        .receive(\"timeout\", () => console.log(\"Networking issue...\") )\n//     })\n//     channel.join()\n//       .receive(\"ok\", ({messages}) => console.log(\"catching up\", messages) )\n//       .receive(\"error\", ({reason}) => console.log(\"failed join\", reason) )\n//       .receive(\"timeout\", () => console.log(\"Networking issue. Still waiting...\") )\n//\n//\n// ## Joining\n//\n// Creating a channel with `socket.channel(topic, params)`, binds the params to\n// `channel.params`, which are sent up on `channel.join()`.\n// Subsequent rejoins will send up the modified params for\n// updating authorization params, or passing up last_message_id information.\n// Successful joins receive an \"ok\" status, while unsuccessful joins\n// receive \"error\".\n//\n//\n// ## Pushing Messages\n//\n// From the previous example, we can see that pushing messages to the server\n// can be done with `channel.push(eventName, payload)` and we can optionally\n// receive responses from the push. Additionally, we can use\n// `receive(\"timeout\", callback)` to abort waiting for our other `receive` hooks\n//  and take action after some period of waiting. The default timeout is 5000ms.\n//\n//\n// ## Socket Hooks\n//\n// Lifecycle events of the multiplexed connection can be hooked into via\n// `socket.onError()` and `socket.onClose()` events, ie:\n//\n//     socket.onError( () => console.log(\"there was an error with the connection!\") )\n//     socket.onClose( () => console.log(\"the connection dropped\") )\n//\n//\n// ## Channel Hooks\n//\n// For each joined channel, you can bind to `onError` and `onClose` events\n// to monitor the channel lifecycle, ie:\n//\n//     channel.onError( () => console.log(\"there was an error!\") )\n//     channel.onClose( () => console.log(\"the channel has gone away gracefully\") )\n//\n// ### onError hooks\n//\n// `onError` hooks are invoked if the socket connection drops, or the channel\n// crashes on the server. In either case, a channel rejoin is attemtped\n// automatically in an exponential backoff manner.\n//\n// ### onClose hooks\n//\n// `onClose` hooks are invoked only in two cases. 1) the channel explicitly\n// closed on the server, or 2). The client explicitly closed, by calling\n// `channel.leave()`\n//\n\nvar VSN = \"1.0.0\";\nvar SOCKET_STATES = { connecting: 0, open: 1, closing: 2, closed: 3 };\nvar DEFAULT_TIMEOUT = 10000;\nvar CHANNEL_STATES = {\n  closed: \"closed\",\n  errored: \"errored\",\n  joined: \"joined\",\n  joining: \"joining\"\n};\nvar CHANNEL_EVENTS = {\n  close: \"phx_close\",\n  error: \"phx_error\",\n  join: \"phx_join\",\n  reply: \"phx_reply\",\n  leave: \"phx_leave\"\n};\nvar TRANSPORTS = {\n  longpoll: \"longpoll\",\n  websocket: \"websocket\"\n};\n\nvar Push = function () {\n\n  // Initializes the Push\n  //\n  // channel - The Channel\n  // event - The event, for example `\"phx_join\"`\n  // payload - The payload, for example `{user_id: 123}`\n  // timeout - The push timeout in milliseconds\n  //\n\n  function Push(channel, event, payload, timeout) {\n    _classCallCheck(this, Push);\n\n    this.channel = channel;\n    this.event = event;\n    this.payload = payload || {};\n    this.receivedResp = null;\n    this.timeout = timeout;\n    this.timeoutTimer = null;\n    this.recHooks = [];\n    this.sent = false;\n  }\n\n  _createClass(Push, [{\n    key: \"resend\",\n    value: function resend(timeout) {\n      this.timeout = timeout;\n      this.cancelRefEvent();\n      this.ref = null;\n      this.refEvent = null;\n      this.receivedResp = null;\n      this.sent = false;\n      this.send();\n    }\n  }, {\n    key: \"send\",\n    value: function send() {\n      if (this.hasReceived(\"timeout\")) {\n        return;\n      }\n      this.startTimeout();\n      this.sent = true;\n      this.channel.socket.push({\n        topic: this.channel.topic,\n        event: this.event,\n        payload: this.payload,\n        ref: this.ref\n      });\n    }\n  }, {\n    key: \"receive\",\n    value: function receive(status, callback) {\n      if (this.hasReceived(status)) {\n        callback(this.receivedResp.response);\n      }\n\n      this.recHooks.push({ status: status, callback: callback });\n      return this;\n    }\n\n    // private\n\n  }, {\n    key: \"matchReceive\",\n    value: function matchReceive(_ref) {\n      var status = _ref.status;\n      var response = _ref.response;\n      var ref = _ref.ref;\n\n      this.recHooks.filter(function (h) {\n        return h.status === status;\n      }).forEach(function (h) {\n        return h.callback(response);\n      });\n    }\n  }, {\n    key: \"cancelRefEvent\",\n    value: function cancelRefEvent() {\n      if (!this.refEvent) {\n        return;\n      }\n      this.channel.off(this.refEvent);\n    }\n  }, {\n    key: \"cancelTimeout\",\n    value: function cancelTimeout() {\n      clearTimeout(this.timeoutTimer);\n      this.timeoutTimer = null;\n    }\n  }, {\n    key: \"startTimeout\",\n    value: function startTimeout() {\n      var _this = this;\n\n      if (this.timeoutTimer) {\n        return;\n      }\n      this.ref = this.channel.socket.makeRef();\n      this.refEvent = this.channel.replyEventName(this.ref);\n\n      this.channel.on(this.refEvent, function (payload) {\n        _this.cancelRefEvent();\n        _this.cancelTimeout();\n        _this.receivedResp = payload;\n        _this.matchReceive(payload);\n      });\n\n      this.timeoutTimer = setTimeout(function () {\n        _this.trigger(\"timeout\", {});\n      }, this.timeout);\n    }\n  }, {\n    key: \"hasReceived\",\n    value: function hasReceived(status) {\n      return this.receivedResp && this.receivedResp.status === status;\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(status, response) {\n      this.channel.trigger(this.refEvent, { status: status, response: response });\n    }\n  }]);\n\n  return Push;\n}();\n\nvar Channel = exports.Channel = function () {\n  function Channel(topic, params, socket) {\n    var _this2 = this;\n\n    _classCallCheck(this, Channel);\n\n    this.state = CHANNEL_STATES.closed;\n    this.topic = topic;\n    this.params = params || {};\n    this.socket = socket;\n    this.bindings = [];\n    this.timeout = this.socket.timeout;\n    this.joinedOnce = false;\n    this.joinPush = new Push(this, CHANNEL_EVENTS.join, this.params, this.timeout);\n    this.pushBuffer = [];\n    this.rejoinTimer = new Timer(function () {\n      return _this2.rejoinUntilConnected();\n    }, this.socket.reconnectAfterMs);\n    this.joinPush.receive(\"ok\", function () {\n      _this2.state = CHANNEL_STATES.joined;\n      _this2.rejoinTimer.reset();\n      _this2.pushBuffer.forEach(function (pushEvent) {\n        return pushEvent.send();\n      });\n      _this2.pushBuffer = [];\n    });\n    this.onClose(function () {\n      _this2.socket.log(\"channel\", \"close \" + _this2.topic);\n      _this2.state = CHANNEL_STATES.closed;\n      _this2.socket.remove(_this2);\n    });\n    this.onError(function (reason) {\n      _this2.socket.log(\"channel\", \"error \" + _this2.topic, reason);\n      _this2.state = CHANNEL_STATES.errored;\n      _this2.rejoinTimer.scheduleTimeout();\n    });\n    this.joinPush.receive(\"timeout\", function () {\n      if (_this2.state !== CHANNEL_STATES.joining) {\n        return;\n      }\n\n      _this2.socket.log(\"channel\", \"timeout \" + _this2.topic, _this2.joinPush.timeout);\n      _this2.state = CHANNEL_STATES.errored;\n      _this2.rejoinTimer.scheduleTimeout();\n    });\n    this.on(CHANNEL_EVENTS.reply, function (payload, ref) {\n      _this2.trigger(_this2.replyEventName(ref), payload);\n    });\n  }\n\n  _createClass(Channel, [{\n    key: \"rejoinUntilConnected\",\n    value: function rejoinUntilConnected() {\n      this.rejoinTimer.scheduleTimeout();\n      if (this.socket.isConnected()) {\n        this.rejoin();\n      }\n    }\n  }, {\n    key: \"join\",\n    value: function join() {\n      var timeout = arguments.length <= 0 || arguments[0] === undefined ? this.timeout : arguments[0];\n\n      if (this.joinedOnce) {\n        throw \"tried to join multiple times. 'join' can only be called a single time per channel instance\";\n      } else {\n        this.joinedOnce = true;\n      }\n      this.rejoin(timeout);\n      return this.joinPush;\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose(callback) {\n      this.on(CHANNEL_EVENTS.close, callback);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(callback) {\n      this.on(CHANNEL_EVENTS.error, function (reason) {\n        return callback(reason);\n      });\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      this.bindings.push({ event: event, callback: callback });\n    }\n  }, {\n    key: \"off\",\n    value: function off(event) {\n      this.bindings = this.bindings.filter(function (bind) {\n        return bind.event !== event;\n      });\n    }\n  }, {\n    key: \"canPush\",\n    value: function canPush() {\n      return this.socket.isConnected() && this.state === CHANNEL_STATES.joined;\n    }\n  }, {\n    key: \"push\",\n    value: function push(event, payload) {\n      var timeout = arguments.length <= 2 || arguments[2] === undefined ? this.timeout : arguments[2];\n\n      if (!this.joinedOnce) {\n        throw \"tried to push '\" + event + \"' to '\" + this.topic + \"' before joining. Use channel.join() before pushing events\";\n      }\n      var pushEvent = new Push(this, event, payload, timeout);\n      if (this.canPush()) {\n        pushEvent.send();\n      } else {\n        pushEvent.startTimeout();\n        this.pushBuffer.push(pushEvent);\n      }\n\n      return pushEvent;\n    }\n\n    // Leaves the channel\n    //\n    // Unsubscribes from server events, and\n    // instructs channel to terminate on server\n    //\n    // Triggers onClose() hooks\n    //\n    // To receive leave acknowledgements, use the a `receive`\n    // hook to bind to the server ack, ie:\n    //\n    //     channel.leave().receive(\"ok\", () => alert(\"left!\") )\n    //\n\n  }, {\n    key: \"leave\",\n    value: function leave() {\n      var _this3 = this;\n\n      var timeout = arguments.length <= 0 || arguments[0] === undefined ? this.timeout : arguments[0];\n\n      var onClose = function onClose() {\n        _this3.socket.log(\"channel\", \"leave \" + _this3.topic);\n        _this3.trigger(CHANNEL_EVENTS.close, \"leave\");\n      };\n      var leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout);\n      leavePush.receive(\"ok\", function () {\n        return onClose();\n      }).receive(\"timeout\", function () {\n        return onClose();\n      });\n      leavePush.send();\n      if (!this.canPush()) {\n        leavePush.trigger(\"ok\", {});\n      }\n\n      return leavePush;\n    }\n\n    // Overridable message hook\n    //\n    // Receives all events for specialized message handling\n\n  }, {\n    key: \"onMessage\",\n    value: function onMessage(event, payload, ref) {}\n\n    // private\n\n  }, {\n    key: \"isMember\",\n    value: function isMember(topic) {\n      return this.topic === topic;\n    }\n  }, {\n    key: \"sendJoin\",\n    value: function sendJoin(timeout) {\n      this.state = CHANNEL_STATES.joining;\n      this.joinPush.resend(timeout);\n    }\n  }, {\n    key: \"rejoin\",\n    value: function rejoin() {\n      var timeout = arguments.length <= 0 || arguments[0] === undefined ? this.timeout : arguments[0];\n      this.sendJoin(timeout);\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(triggerEvent, payload, ref) {\n      this.onMessage(triggerEvent, payload, ref);\n      this.bindings.filter(function (bind) {\n        return bind.event === triggerEvent;\n      }).map(function (bind) {\n        return bind.callback(payload, ref);\n      });\n    }\n  }, {\n    key: \"replyEventName\",\n    value: function replyEventName(ref) {\n      return \"chan_reply_\" + ref;\n    }\n  }]);\n\n  return Channel;\n}();\n\nvar Socket = exports.Socket = function () {\n\n  // Initializes the Socket\n  //\n  // endPoint - The string WebSocket endpoint, ie, \"ws://example.com/ws\",\n  //                                               \"wss://example.com\"\n  //                                               \"/ws\" (inherited host & protocol)\n  // opts - Optional configuration\n  //   transport - The Websocket Transport, for example WebSocket or Phoenix.LongPoll.\n  //               Defaults to WebSocket with automatic LongPoll fallback.\n  //   timeout - The default timeout in milliseconds to trigger push timeouts.\n  //             Defaults `DEFAULT_TIMEOUT`\n  //   heartbeatIntervalMs - The millisec interval to send a heartbeat message\n  //   reconnectAfterMs - The optional function that returns the millsec\n  //                      reconnect interval. Defaults to stepped backoff of:\n  //\n  //     function(tries){\n  //       return [1000, 5000, 10000][tries - 1] || 10000\n  //     }\n  //\n  //   logger - The optional function for specialized logging, ie:\n  //     `logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n  //\n  //   longpollerTimeout - The maximum timeout of a long poll AJAX request.\n  //                        Defaults to 20s (double the server long poll timer).\n  //\n  //   params - The optional params to pass when connecting\n  //\n  // For IE8 support use an ES5-shim (https://github.com/es-shims/es5-shim)\n  //\n\n  function Socket(endPoint) {\n    var _this4 = this;\n\n    var opts = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    _classCallCheck(this, Socket);\n\n    this.stateChangeCallbacks = { open: [], close: [], error: [], message: [] };\n    this.channels = [];\n    this.sendBuffer = [];\n    this.ref = 0;\n    this.timeout = opts.timeout || DEFAULT_TIMEOUT;\n    this.transport = opts.transport || window.WebSocket || LongPoll;\n    this.heartbeatIntervalMs = opts.heartbeatIntervalMs || 30000;\n    this.reconnectAfterMs = opts.reconnectAfterMs || function (tries) {\n      return [1000, 2000, 5000, 10000][tries - 1] || 10000;\n    };\n    this.logger = opts.logger || function () {}; // noop\n    this.longpollerTimeout = opts.longpollerTimeout || 20000;\n    this.params = opts.params || {};\n    this.endPoint = endPoint + \"/\" + TRANSPORTS.websocket;\n    this.reconnectTimer = new Timer(function () {\n      _this4.disconnect(function () {\n        return _this4.connect();\n      });\n    }, this.reconnectAfterMs);\n  }\n\n  _createClass(Socket, [{\n    key: \"protocol\",\n    value: function protocol() {\n      return location.protocol.match(/^https/) ? \"wss\" : \"ws\";\n    }\n  }, {\n    key: \"endPointURL\",\n    value: function endPointURL() {\n      var uri = Ajax.appendParams(Ajax.appendParams(this.endPoint, this.params), { vsn: VSN });\n      if (uri.charAt(0) !== \"/\") {\n        return uri;\n      }\n      if (uri.charAt(1) === \"/\") {\n        return this.protocol() + \":\" + uri;\n      }\n\n      return this.protocol() + \"://\" + location.host + uri;\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect(callback, code, reason) {\n      if (this.conn) {\n        this.conn.onclose = function () {}; // noop\n        if (code) {\n          this.conn.close(code, reason || \"\");\n        } else {\n          this.conn.close();\n        }\n        this.conn = null;\n      }\n      callback && callback();\n    }\n\n    // params - The params to send when connecting, for example `{user_id: userToken}`\n\n  }, {\n    key: \"connect\",\n    value: function connect(params) {\n      var _this5 = this;\n\n      if (params) {\n        console && console.log(\"passing params to connect is deprecated. Instead pass :params to the Socket constructor\");\n        this.params = params;\n      }\n      if (this.conn) {\n        return;\n      }\n\n      this.conn = new this.transport(this.endPointURL());\n      this.conn.timeout = this.longpollerTimeout;\n      this.conn.onopen = function () {\n        return _this5.onConnOpen();\n      };\n      this.conn.onerror = function (error) {\n        return _this5.onConnError(error);\n      };\n      this.conn.onmessage = function (event) {\n        return _this5.onConnMessage(event);\n      };\n      this.conn.onclose = function (event) {\n        return _this5.onConnClose(event);\n      };\n    }\n\n    // Logs the message. Override `this.logger` for specialized logging. noops by default\n\n  }, {\n    key: \"log\",\n    value: function log(kind, msg, data) {\n      this.logger(kind, msg, data);\n    }\n\n    // Registers callbacks for connection state change events\n    //\n    // Examples\n    //\n    //    socket.onError(function(error){ alert(\"An error occurred\") })\n    //\n\n  }, {\n    key: \"onOpen\",\n    value: function onOpen(callback) {\n      this.stateChangeCallbacks.open.push(callback);\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose(callback) {\n      this.stateChangeCallbacks.close.push(callback);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(callback) {\n      this.stateChangeCallbacks.error.push(callback);\n    }\n  }, {\n    key: \"onMessage\",\n    value: function onMessage(callback) {\n      this.stateChangeCallbacks.message.push(callback);\n    }\n  }, {\n    key: \"onConnOpen\",\n    value: function onConnOpen() {\n      var _this6 = this;\n\n      this.log(\"transport\", \"connected to \" + this.endPointURL(), this.transport.prototype);\n      this.flushSendBuffer();\n      this.reconnectTimer.reset();\n      if (!this.conn.skipHeartbeat) {\n        clearInterval(this.heartbeatTimer);\n        this.heartbeatTimer = setInterval(function () {\n          return _this6.sendHeartbeat();\n        }, this.heartbeatIntervalMs);\n      }\n      this.stateChangeCallbacks.open.forEach(function (callback) {\n        return callback();\n      });\n    }\n  }, {\n    key: \"onConnClose\",\n    value: function onConnClose(event) {\n      this.log(\"transport\", \"close\", event);\n      this.triggerChanError();\n      clearInterval(this.heartbeatTimer);\n      this.reconnectTimer.scheduleTimeout();\n      this.stateChangeCallbacks.close.forEach(function (callback) {\n        return callback(event);\n      });\n    }\n  }, {\n    key: \"onConnError\",\n    value: function onConnError(error) {\n      this.log(\"transport\", error);\n      this.triggerChanError();\n      this.stateChangeCallbacks.error.forEach(function (callback) {\n        return callback(error);\n      });\n    }\n  }, {\n    key: \"triggerChanError\",\n    value: function triggerChanError() {\n      this.channels.forEach(function (channel) {\n        return channel.trigger(CHANNEL_EVENTS.error);\n      });\n    }\n  }, {\n    key: \"connectionState\",\n    value: function connectionState() {\n      switch (this.conn && this.conn.readyState) {\n        case SOCKET_STATES.connecting:\n          return \"connecting\";\n        case SOCKET_STATES.open:\n          return \"open\";\n        case SOCKET_STATES.closing:\n          return \"closing\";\n        default:\n          return \"closed\";\n      }\n    }\n  }, {\n    key: \"isConnected\",\n    value: function isConnected() {\n      return this.connectionState() === \"open\";\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(channel) {\n      this.channels = this.channels.filter(function (c) {\n        return !c.isMember(channel.topic);\n      });\n    }\n  }, {\n    key: \"channel\",\n    value: function channel(topic) {\n      var chanParams = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var chan = new Channel(topic, chanParams, this);\n      this.channels.push(chan);\n      return chan;\n    }\n  }, {\n    key: \"push\",\n    value: function push(data) {\n      var _this7 = this;\n\n      var topic = data.topic;\n      var event = data.event;\n      var payload = data.payload;\n      var ref = data.ref;\n\n      var callback = function callback() {\n        return _this7.conn.send(JSON.stringify(data));\n      };\n      this.log(\"push\", topic + \" \" + event + \" (\" + ref + \")\", payload);\n      if (this.isConnected()) {\n        callback();\n      } else {\n        this.sendBuffer.push(callback);\n      }\n    }\n\n    // Return the next message ref, accounting for overflows\n\n  }, {\n    key: \"makeRef\",\n    value: function makeRef() {\n      var newRef = this.ref + 1;\n      if (newRef === this.ref) {\n        this.ref = 0;\n      } else {\n        this.ref = newRef;\n      }\n\n      return this.ref.toString();\n    }\n  }, {\n    key: \"sendHeartbeat\",\n    value: function sendHeartbeat() {\n      if (!this.isConnected()) {\n        return;\n      }\n      this.push({ topic: \"phoenix\", event: \"heartbeat\", payload: {}, ref: this.makeRef() });\n    }\n  }, {\n    key: \"flushSendBuffer\",\n    value: function flushSendBuffer() {\n      if (this.isConnected() && this.sendBuffer.length > 0) {\n        this.sendBuffer.forEach(function (callback) {\n          return callback();\n        });\n        this.sendBuffer = [];\n      }\n    }\n  }, {\n    key: \"onConnMessage\",\n    value: function onConnMessage(rawMessage) {\n      var msg = JSON.parse(rawMessage.data);\n      var topic = msg.topic;\n      var event = msg.event;\n      var payload = msg.payload;\n      var ref = msg.ref;\n\n      this.log(\"receive\", (payload.status || \"\") + \" \" + topic + \" \" + event + \" \" + (ref && \"(\" + ref + \")\" || \"\"), payload);\n      this.channels.filter(function (channel) {\n        return channel.isMember(topic);\n      }).forEach(function (channel) {\n        return channel.trigger(event, payload, ref);\n      });\n      this.stateChangeCallbacks.message.forEach(function (callback) {\n        return callback(msg);\n      });\n    }\n  }]);\n\n  return Socket;\n}();\n\nvar LongPoll = exports.LongPoll = function () {\n  function LongPoll(endPoint) {\n    _classCallCheck(this, LongPoll);\n\n    this.endPoint = null;\n    this.token = null;\n    this.skipHeartbeat = true;\n    this.onopen = function () {}; // noop\n    this.onerror = function () {}; // noop\n    this.onmessage = function () {}; // noop\n    this.onclose = function () {}; // noop\n    this.pollEndpoint = this.normalizeEndpoint(endPoint);\n    this.readyState = SOCKET_STATES.connecting;\n\n    this.poll();\n  }\n\n  _createClass(LongPoll, [{\n    key: \"normalizeEndpoint\",\n    value: function normalizeEndpoint(endPoint) {\n      return endPoint.replace(\"ws://\", \"http://\").replace(\"wss://\", \"https://\").replace(new RegExp(\"(.*)\\/\" + TRANSPORTS.websocket), \"$1/\" + TRANSPORTS.longpoll);\n    }\n  }, {\n    key: \"endpointURL\",\n    value: function endpointURL() {\n      return Ajax.appendParams(this.pollEndpoint, { token: this.token });\n    }\n  }, {\n    key: \"closeAndRetry\",\n    value: function closeAndRetry() {\n      this.close();\n      this.readyState = SOCKET_STATES.connecting;\n    }\n  }, {\n    key: \"ontimeout\",\n    value: function ontimeout() {\n      this.onerror(\"timeout\");\n      this.closeAndRetry();\n    }\n  }, {\n    key: \"poll\",\n    value: function poll() {\n      var _this8 = this;\n\n      if (!(this.readyState === SOCKET_STATES.open || this.readyState === SOCKET_STATES.connecting)) {\n        return;\n      }\n\n      Ajax.request(\"GET\", this.endpointURL(), \"application/json\", null, this.timeout, this.ontimeout.bind(this), function (resp) {\n        if (resp) {\n          var status = resp.status;\n          var token = resp.token;\n          var messages = resp.messages;\n\n          _this8.token = token;\n        } else {\n          var status = 0;\n        }\n\n        switch (status) {\n          case 200:\n            messages.forEach(function (msg) {\n              return _this8.onmessage({ data: JSON.stringify(msg) });\n            });\n            _this8.poll();\n            break;\n          case 204:\n            _this8.poll();\n            break;\n          case 410:\n            _this8.readyState = SOCKET_STATES.open;\n            _this8.onopen();\n            _this8.poll();\n            break;\n          case 0:\n          case 500:\n            _this8.onerror();\n            _this8.closeAndRetry();\n            break;\n          default:\n            throw \"unhandled poll status \" + status;\n        }\n      });\n    }\n  }, {\n    key: \"send\",\n    value: function send(body) {\n      var _this9 = this;\n\n      Ajax.request(\"POST\", this.endpointURL(), \"application/json\", body, this.timeout, this.onerror.bind(this, \"timeout\"), function (resp) {\n        if (!resp || resp.status !== 200) {\n          _this9.onerror(status);\n          _this9.closeAndRetry();\n        }\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close(code, reason) {\n      this.readyState = SOCKET_STATES.closed;\n      this.onclose();\n    }\n  }]);\n\n  return LongPoll;\n}();\n\nvar Ajax = exports.Ajax = function () {\n  function Ajax() {\n    _classCallCheck(this, Ajax);\n  }\n\n  _createClass(Ajax, null, [{\n    key: \"request\",\n    value: function request(method, endPoint, accept, body, timeout, ontimeout, callback) {\n      if (window.XDomainRequest) {\n        var req = new XDomainRequest(); // IE8, IE9\n        this.xdomainRequest(req, method, endPoint, body, timeout, ontimeout, callback);\n      } else {\n        var req = window.XMLHttpRequest ? new XMLHttpRequest() : // IE7+, Firefox, Chrome, Opera, Safari\n        new ActiveXObject(\"Microsoft.XMLHTTP\"); // IE6, IE5\n        this.xhrRequest(req, method, endPoint, accept, body, timeout, ontimeout, callback);\n      }\n    }\n  }, {\n    key: \"xdomainRequest\",\n    value: function xdomainRequest(req, method, endPoint, body, timeout, ontimeout, callback) {\n      var _this10 = this;\n\n      req.timeout = timeout;\n      req.open(method, endPoint);\n      req.onload = function () {\n        var response = _this10.parseJSON(req.responseText);\n        callback && callback(response);\n      };\n      if (ontimeout) {\n        req.ontimeout = ontimeout;\n      }\n\n      // Work around bug in IE9 that requires an attached onprogress handler\n      req.onprogress = function () {};\n\n      req.send(body);\n    }\n  }, {\n    key: \"xhrRequest\",\n    value: function xhrRequest(req, method, endPoint, accept, body, timeout, ontimeout, callback) {\n      var _this11 = this;\n\n      req.timeout = timeout;\n      req.open(method, endPoint, true);\n      req.setRequestHeader(\"Content-Type\", accept);\n      req.onerror = function () {\n        callback && callback(null);\n      };\n      req.onreadystatechange = function () {\n        if (req.readyState === _this11.states.complete && callback) {\n          var response = _this11.parseJSON(req.responseText);\n          callback(response);\n        }\n      };\n      if (ontimeout) {\n        req.ontimeout = ontimeout;\n      }\n\n      req.send(body);\n    }\n  }, {\n    key: \"parseJSON\",\n    value: function parseJSON(resp) {\n      return resp && resp !== \"\" ? JSON.parse(resp) : null;\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize(obj, parentKey) {\n      var queryStr = [];\n      for (var key in obj) {\n        if (!obj.hasOwnProperty(key)) {\n          continue;\n        }\n        var paramKey = parentKey ? parentKey + \"[\" + key + \"]\" : key;\n        var paramVal = obj[key];\n        if ((typeof paramVal === \"undefined\" ? \"undefined\" : _typeof(paramVal)) === \"object\") {\n          queryStr.push(this.serialize(paramVal, paramKey));\n        } else {\n          queryStr.push(encodeURIComponent(paramKey) + \"=\" + encodeURIComponent(paramVal));\n        }\n      }\n      return queryStr.join(\"&\");\n    }\n  }, {\n    key: \"appendParams\",\n    value: function appendParams(url, params) {\n      if (Object.keys(params).length === 0) {\n        return url;\n      }\n\n      var prefix = url.match(/\\?/) ? \"&\" : \"?\";\n      return \"\" + url + prefix + this.serialize(params);\n    }\n  }]);\n\n  return Ajax;\n}();\n\nAjax.states = { complete: 4 };\n\n// Creates a timer that accepts a `timerCalc` function to perform\n// calculated timeout retries, such as exponential backoff.\n//\n// ## Examples\n//\n//    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n//      return [1000, 5000, 10000][tries - 1] || 10000\n//    })\n//    reconnectTimer.scheduleTimeout() // fires after 1000\n//    reconnectTimer.scheduleTimeout() // fires after 5000\n//    reconnectTimer.reset()\n//    reconnectTimer.scheduleTimeout() // fires after 1000\n//\n\nvar Timer = function () {\n  function Timer(callback, timerCalc) {\n    _classCallCheck(this, Timer);\n\n    this.callback = callback;\n    this.timerCalc = timerCalc;\n    this.timer = null;\n    this.tries = 0;\n  }\n\n  _createClass(Timer, [{\n    key: \"reset\",\n    value: function reset() {\n      this.tries = 0;\n      clearTimeout(this.timer);\n    }\n\n    // Cancels any previous scheduleTimeout and schedules callback\n\n  }, {\n    key: \"scheduleTimeout\",\n    value: function scheduleTimeout() {\n      var _this12 = this;\n\n      clearTimeout(this.timer);\n\n      this.timer = setTimeout(function () {\n        _this12.tries = _this12.tries + 1;\n        _this12.callback();\n      }, this.timerCalc(this.tries + 1));\n    }\n  }]);\n\n  return Timer;\n}();\n\n\n})(typeof(exports) === \"undefined\" ? window.Phoenix = window.Phoenix || {} : exports);\n\n  });","require.register('phoenix_html', function(exports,req,module){\n    var require = __makeRequire((function(n) { return req(n.replace('./', 'phoenix_html/')); }), {});\n    'use strict';\n\n// Although ^=parent is not technically correct,\n// we need to use it in order to get IE8 support.\nvar elements = document.querySelectorAll('[data-submit^=parent]');\nvar len = elements.length;\n\nfor (var i = 0; i < len; ++i) {\n  elements[i].addEventListener('click', function (event) {\n    var message = this.getAttribute(\"data-confirm\");\n    if (message === null || confirm(message)) {\n      this.parentNode.submit();\n    };\n    event.preventDefault();\n    return false;\n  }, false);\n}\n\n;\n  });","// Brunch automatically concatenates all files in your\n// watched paths. Those paths can be configured at\n// config.paths.watched in \"brunch-config.js\".\n//\n// However, those files will only be executed if\n// explicitly imported. The only exception are files\n// in vendor, which are never wrapped in imports and\n// therefore are always executed.\n\n// Import dependencies\n//\n// If you no longer want to use a dependency, remember\n// to also remove its path from \"config.paths.watched\".\nimport \"phoenix_html\"\n\n// Import local files\n//\n// Local files can be imported directly using relative\n// paths \"./socket\" or full ones \"web/static/js/socket\".\n\nimport socket from \"./socket\"\nimport Results from \"./results\"\nimport Project from \"./project\"\n\nResults.init(socket, document.getElementById(\"results\"))\nProject.init(socket, document.getElementById(\"searches\"))\n","let Project = {\n\n  init(socket, element){ if(!element){ return }\n    let projectId = element.getAttribute(\"data-id\")\n    socket.connect()\n    this.onReady(projectId, socket)\n  },\n\n  onReady(projectId, socket){\n    let searchesContainer = document.getElementById(\"searches\")\n    let runProjectSearch = document.getElementById(\"run-search\")\n    let runSingleSearch = document.getElementsByClassName(\"run-single-search\")\n    let dropdownTitle = document.getElementsByClassName(\"dropdown-menu-title\")\n    let loadingStatus = document.getElementsByClassName(\"load-status\")\n    let projectChannel = socket.channel(\"projects:\" + projectId)\n\n    runProjectSearch.addEventListener(\"click\", e => {\n      this.showWebsiteDropdown(dropdownTitle)\n      this.prepOverviews()\n      this.clearAndPrepAllResults()\n      projectChannel.push(\"run_test\")\n                   .receive(\"error\", e => console.log(e) )\n    })\n\n    Array.prototype.forEach.call(runSingleSearch, function(button){\n      button.addEventListener(\"click\", e => {\n        let search_id = button.getAttribute(\"data-id\")\n        let payload = {search_id: search_id}\n        Project.clearAndPrepSingleResult(search_id)\n        projectChannel.push(\"run_single_search\", payload)\n                      .receive(\"error\", e => console.log(e) )\n      })\n    })\n\n    projectChannel.on(\"backend\", (resp) => {\n      let loadedOf = document.getElementById(`search-${this.esc(resp.search_id)}-of`)\n      loadedOf.innerHTML = parseInt(loadedOf.innerHTML) + 1\n\n      this.renderBackend(resp)\n    })\n\n    projectChannel.on(\"result\", (resp) => {\n      this.renderResult(resp)\n    })\n\n    projectChannel.on(\"no_result\", (resp) => {\n      this.renderNoResult(resp)\n    })\n\n    projectChannel.on(\"loaded_results\", (resp) => {\n      let loaded = document.getElementById(`search-${this.esc(resp.search_id)}-loaded`)\n      let loadedOf = document.getElementById(`search-${this.esc(resp.search_id)}-of`)\n      let loadStatsContainer = document.getElementById(`load-status-${this.esc(resp.search_id)}`)\n      loaded.innerHTML = parseInt(loaded.innerHTML) + 1\n      if (loaded.innerHTML == loadedOf.innerHTML) {\n        loadStatsContainer.setAttribute(\"class\", \"text-success load-status\")\n\n        loadStatsContainer.innerHTML = \"Loaded all \" + loaded.innerHTML + \" backends\"\n      }\n      this.renderTally(resp)\n    })\n\n    projectChannel.join()\n      .receive(\"ok\", resp => console.log(\"Joined project channel\", resp))\n      .receive(\"error\", resp => console.log(\"Failed to join project channel\", resp))\n  },\n\n  clearAndPrepAllResults(){\n    let dropdownElements = document.getElementsByClassName(\"backend-titles\")\n    let tabContentElements = document.getElementsByClassName(\"backend-content\")\n    let overviewElements = document.getElementsByClassName(\"search-result-tabs\")\n    let loadStatusElements = document.getElementsByClassName(\"load-status\")\n\n    Array.prototype.forEach.call(dropdownElements, function(elem){\n      elem.innerHTML = \"\"\n    })\n    Array.prototype.forEach.call(tabContentElements, function(elem){\n      let overviewTab = elem.children[0]\n      overviewTab.setAttribute(\"class\", \"tab-pane fade in active overview\")\n      elem.innerHTML = \"\"\n      elem.appendChild(overviewTab)\n    })\n    Array.prototype.forEach.call(overviewElements, function(elem){\n      elem.children[0].setAttribute(\"class\", \"active\")\n      elem.children[1].setAttribute(\"class\", \"dropdown\")\n    })\n\n    Array.prototype.forEach.call(loadStatusElements, function(elem){\n      let id = elem.getAttribute(\"id\").split(/[\\s-]+/).pop()\n      elem.innerHTML = `Loaded <span id=\"search-${id}-loaded\">0</span> of <span id=\"search-${id}-of\">0</span> backends`\n    })\n  },\n\n  clearAndPrepSingleResult(search_id){\n    let dropdownElement = document.getElementById(`backendDrop${search_id}-contents`)\n    let tabContentElement = document.getElementById(`tab-content-${search_id}`)\n    let overviewElement = document.getElementById(`search-result-tabs-${search_id}`)\n    let loadStatusElement = document.getElementById(`load-status-${search_id}`)\n\n    dropdownElement.innerHTML = \"\"\n\n    let firstTab = tabContentElement.children[0]\n    firstTab.setAttribute(\"class\", \"tab-pane fade in active overview\")\n    firstTab.innerHTML = \"\"\n    tabContentElement.innerHTML = \"\"\n    tabContentElement.appendChild(firstTab)\n\n    overviewElement.children[0].setAttribute(\"class\", \"active\")\n    overviewElement.children[1].setAttribute(\"class\", \"dropdown\")\n\n    loadStatusElement.innerHTML = `Loaded <span id=\"search-${search_id}-loaded\">0</span> of <span id=\"search-${search_id}-of\">0</span> backends`\n\n\n  },\n\n  renderBackend(resp){\n    let dropMenu = document.getElementById(`backendDrop${resp.search_id}-contents`)\n    let dropMenuBackend = document.createElement(\"li\")\n    dropMenuBackend.innerHTML = `\n    <a href=\"#dropdown-${this.esc(resp.backend)}-${this.esc(resp.search_id)}\" role=\"tab\" id=\"#dropdown-${this.esc(resp.backend)}-${this.esc(resp.search_id)}-tab\" data-toggle=\"tab\" aria-controls=\"#dropdown-${this.esc(resp.backend)}-${this.esc(resp.search_id)}\" aria-expanded=\"false\">${this.esc(resp.backend_str)} <span class=\"badge\" id=\"${this.esc(resp.backend)}-${this.esc(resp.search_id)}-badge\">0</span></a>\n    `\n    dropMenu.appendChild(dropMenuBackend)\n\n    let tabContent = document.getElementById(`tab-content-${this.esc(resp.search_id)}`)\n    let tabContentBackend = document.createElement(\"div\")\n    tabContentBackend.setAttribute(\"class\", \"tab-pane fade\")\n    tabContentBackend.setAttribute(\"role\", \"tabpanel\")\n    tabContentBackend.setAttribute(\"id\", `dropdown-${this.esc(resp.backend)}-${this.esc(resp.search_id)}`)\n    tabContentBackend.innerHTML = `<h4>${this.esc(resp.backend_str)} <small><a href=\"${this.esc(resp.results_url)}\" target=\"_blank\" class=\"pull-right\">view results in new tab</a></small></h4>`\n    tabContent.appendChild(tabContentBackend)\n  },\n\n  renderResult(resp){\n    let dropContent = document.getElementById(`dropdown-${this.esc(resp.backend)}-${this.esc(resp.search_id)}`)\n    let newContent = document.createElement(\"div\")\n    let counter = document.getElementById('id')\n    newContent.setAttribute(\"class\", \"col-sm-12 col-md-6 col-lg-4\")\n    if(resp.url){\n      newContent.innerHTML = `\n      <div class=\"panel panel-info\">\n      <div class=\"panel-body\">\n      <b>${this.esc(resp.biz)}</b><br>\n      ${this.esc(resp.address)}<br>\n      ${this.esc(resp.city)}, ${this.esc(resp.state)} ${this.esc(resp.zip || \"\")}<br>\n      ${this.esc(resp.phone)}<br>\n      <i>Rating: <b>${this.esc(resp.rating)}</b></i>\n      </div>\n      <div class=\"panel-footer\">\n      <i><a href=\"${this.esc(resp.url)}\" target=\"_blank\">Edit entry</a></i>\n      </div>\n      </div>`\n    } else {\n      newContent.innerHTML = `\n      <div class=\"panel panel-info\">\n      <div class=\"panel-body\">\n      <b>${this.esc(resp.biz)}</b><br>\n      ${this.esc(resp.address)}<br>\n      ${this.esc(resp.city)}, ${this.esc(resp.state)} ${this.esc(resp.zip || \"\")}<br>\n      ${this.esc(resp.phone)}<br>\n      <i>Rating: <b>${this.esc(resp.rating)}</b></i>\n      </div>`\n    }\n\n    dropContent.appendChild(newContent)\n  },\n\n  renderTally(resp){\n    let badgeCounter = document.getElementById(`${this.esc(resp.backend)}-${this.esc(resp.search_id)}-badge`)\n    badgeCounter.innerHTML = `${this.esc(resp.num_results)}`\n\n    let tallyContainerTable = document.getElementById(`overview-${this.esc(resp.search_id)}-table`)\n    let newEntry = document.createElement(\"tr\")\n    newEntry.innerHTML = `\n    <td><a href=\"#dropdown-${this.esc(resp.backend)}-${this.esc(resp.search_id)}\" role=\"tab\" data-toggle=\"tab\" aria-controls=\"#dropdown-${this.esc(resp.backend)}-${this.esc(resp.search_id)}\">${this.esc(resp.backend_str)}</a></td>\n    <td>${this.esc(resp.num_results)}</td>\n    <td>${this.esc(resp.high_rating || \"--\")}</td>\n    <td>${this.esc(resp.low_rating || \"--\")}</td>\n    `\n    tallyContainerTable.children[0].appendChild(newEntry)\n\n    // TODO can I write this in ES6 instead of jquery?\n    $('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\n      var target = this.href.split('#');\n      $('.nav a').filter('a[href=\"#'+target[1]+'\"]').tab('show');\n    })\n  },\n\n  renderNoResult(resp){\n    let dropContent = document.getElementById(`dropdown-${this.esc(resp.backend)}-${this.esc(resp.search_id)}`)\n    let newContent = document.createElement(\"div\")\n    newContent.innerHTML = `\n    <i>No results</i>\n    `\n    dropContent.appendChild(newContent)\n  },\n\n  showWebsiteDropdown(dropdownTitle){\n    Array.prototype.forEach.call(dropdownTitle, function(elem){\n      elem.setAttribute(\"class\", \"dropdown dropdown-menu-title\")\n    })\n  },\n\n  prepOverviews(){\n    let allOverviews = document.getElementsByClassName(\"overview\")\n    Array.prototype.forEach.call(allOverviews, function(elem){\n      let parentId = elem.getAttribute(\"id\")\n      elem.innerHTML = `\n      <table id=\"${parentId}-table\" class=\"table table-hover\">\n        <tr>\n          <th>Backend</th>\n          <th>Results</th>\n          <th>High Rating</th>\n          <th>Low Rating</th>\n        </tr>\n      </table>\n      `\n    })\n  },\n\n  esc(str){\n    let div = document.createElement(\"div\")\n    div.appendChild(document.createTextNode(str))\n    return div.innerHTML\n  }\n}\n\n\nexport default Project\n","let Results = {\n\n  init(socket, element){ if(!element){ return }\n    let searchId = element.getAttribute(\"data-id\")\n    socket.connect()\n    this.onReady(searchId, socket)\n  },\n\n  onReady(searchId, socket){\n    let resultsContainer = document.getElementById(\"results\")\n    let backendMenuContainer = document.getElementById(\"list_backends\")\n    let runSearch = document.getElementById(\"run-search\")\n    let searchChannel   = socket.channel(\"searches:\" + searchId)\n\n    runSearch.addEventListener(\"click\", e => {\n      searchChannel.push(\"run_search\")\n                   .receive(\"error\", e => console.log(e) )\n    })\n\n    searchChannel.on(\"backend\", (resp) => {\n      this.renderBackend(resultsContainer, backendMenuContainer, resp)\n    })\n\n    searchChannel.on(\"result\", (resp) => {\n      let backendContainer = document.getElementById(resp.backend)\n      this.renderResult(backendContainer, resp)\n    })\n\n    searchChannel.on(\"loaded_results\", (resp) => {\n      let backendMenuItem = document.getElementById(resp.backend + \"_menu\")\n      backendMenuItem.innerHTML = `\n      <a href=\"#${resp.backend}_header\">${resp.backend_str}</a>\n      `\n    })\n\n    searchChannel.on(\"no_result\", (resp) => {\n      let backendContainer = document.getElementById(resp.backend)\n      this.renderNoResult(backendContainer)\n    })\n\n    searchChannel.on(\"clear_results\", (resp) => {\n      let resultsContainer = document.getElementById(\"results\")\n      let backendMenuContainer = document.getElementById(\"list_backends\")\n\n      resultsContainer.innerHTML = ``\n      backendMenuContainer.innerHTML = ``\n    })\n\n    searchChannel.join()\n      .receive(\"ok\", resp => console.log(\"Joined search channel\", resp))\n      .receive(\"error\", reason => console.log(\"Join failed\", reason))\n\n  },\n\n  renderBackend(resultsContainer, backendMenuContainer, {backend, backend_str, backend_url, results_url, search_id}){\n    let template = document.createElement(\"div\")\n    template.setAttribute(\"class\", \"panel panel-info\")\n    template.innerHTML = `\n    <div class=\"panel-heading\" id=\"${this.esc(backend)}_header\">\n    <h4><a href=\"${this.esc(backend_url)}\" target=\"_blank\">${this.esc(backend_str)}</a></h4>\n    </div>\n    <div class=\"panel-body\" id=\"${this.esc(backend)}\"></div>\n    <div class=\"panel-footer\">\n    <a href=\"${this.esc(results_url)}\" target=\"_blank\">Go to results on ${this.esc(backend_str)}...</a>\n    </div>\n    `\n    resultsContainer.appendChild(template)\n\n    let new_result = document.createElement(\"div\")\n    new_result.setAttribute(\"id\", backend + \"_menu\")\n    new_result.innerHTML = `\n    ${this.esc(backend_str)}...loading\n    `\n    backendMenuContainer.appendChild(new_result)\n  },\n\n  renderResult(backendContainer, {backend, biz, address, city, state, zip, rating, url, phone}){\n    let template = document.createElement(\"div\")\n\n    // TODO refactor for short-circuit evaluation wihtin template innerHTML\n    if (zip == null) {\n      zip = \"\"\n    }\n\n    // TODO refactor to just add the last line if url is true\n    if (url) {\n      template.innerHTML = `\n      <b>${this.esc(biz)}</b><br>\n      ${this.esc(address)}<br>\n      ${this.esc(city)}, ${this.esc(state)} ${this.esc(zip)}<br>\n      ${this.esc(phone)}<br>\n      <i>Rating: </i><b>${this.esc(rating)}</b><br>\n      <i><a href=\"${this.esc(url)}\" target=\"_blank\">Edit entry</a></i><br>\n      <br>\n      `\n    } else {\n      template.innerHTML = `\n      <b>${this.esc(biz)}</b><br>\n      ${this.esc(address)}<br>\n      ${this.esc(city)}, ${this.esc(state)} ${this.esc(zip)}<br>\n      ${this.esc(phone)}<br>\n      <i>Rating: </i><b>${this.esc(rating)}</b><br>\n      <br>\n      `\n    }\n    backendContainer.appendChild(template)\n  },\n\n  renderNoResult(backendContainer){\n    let template = document.createElement(\"div\")\n    template.innerHTML = `\n    <i>No results</i>\n    `\n    backendContainer.appendChild(template)\n  },\n\n  esc(str){\n    let div = document.createElement(\"div\")\n    div.appendChild(document.createTextNode(str))\n    return div.innerHTML\n  }\n}\nexport default Results\n","// To use Phoenix channels, the first step is to import Socket\n// and connect at the socket path in \"lib/my_app/endpoint.ex\":\nimport {Socket} from \"phoenix\"\n\nlet socket = new Socket(\"/socket\", {\n  params: {token: window.userToken},\n  logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n})\n\nexport default socket\n"]}